{
  "nodes": {
    "entries": [
      {
        "name": "airflow-controller",
        "role": "controller",
        "InstanceType": "t2.large",
        "kind": "aws"
      }
    ],
    "deploymentTargetConfiguration": {
      "aws": {
        "InstanceType": "t2.medium"
      }
    }
  },
  "applications": {
    "airflow": {
      "targetRevision": "1.6.0",
      "destinationNamespace": "airflow",
      "repoURL": "https://airflow.apache.org",
      "chart": "airflow",
      "values": {
        "dags": {
          "gitSync": {
            "enabled": true,
            "repo": "https://github.com/polyseam/demo-dag-bag",
            "branch": "main",
            "wait": 70,
            "subPath": "dags"
          }
        },
        "logs": {
          "persistence": {
            "size": "15Gi"
          }
        },
        "createUserJob": {
          "useHelmHooks": false
        },
        "migrateDatabaseJob": {
          "useHelmHooks": false
        }
      }
    }
  },
  "cluster": {
    "airflow-ingress": {
      "apiVersion": "networking.k8s.io/v1",
      "kind": "Ingress",
      "metadata": {
        "name": "airflow-ingress",
        "namespace": "airflow"
      },
      "spec": {
        "rules": [
          {
            "http": {
              "paths": [
                {
                  "path": "/airflow",
                  "pathType": "Prefix",
                  "backend": {
                    "service": {
                      "name": "airflow-webserver",
                      "port": {
                        "number": 8080
                      }
                    }
                  }
                }
              ]
            }
          }
        ]
      }
    },
    "argo-ingress": {
      "apiVersion": "networking.k8s.io/v1",
      "kind": "Ingress",
      "metadata": {
        "name": "argo-ingress",
        "namespace": "argocd"
      },
      "spec": {
        "rules": [
          {
            "http": {
              "paths": [
                {
                  "path": "/argo",
                  "pathType": "Prefix",
                  "backend": {
                    "service": {
                      "name": "argocd-server",
                      "port": {
                        "number": 80
                      }
                    }
                  }
                }
              ]
            }
          }
        ]
      }
    }
  }
}